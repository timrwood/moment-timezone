!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(a){if(!a.name)throw new Error("Missing name");if(!a.abbrs)throw new Error("Missing abbrs");if(!a.untils)throw new Error("Missing untils");if(!a.offsets)throw new Error("Missing offsets");if(a.offsets.length!==a.untils.length||a.offsets.length!==a.abbrs.length)throw new Error("Mismatched array lengths")}function b(a,b){for(var c=".",d="";b>0;){b-=1,a*=60;var e=u(a+q);c+=p[e],a-=e,e&&(d+=c,c="")}return d}function c(a,c){for(var d="",e=s(a),f=u(e),g=b(e-f,t(~~c,10));f>0;)d=p[f%60]+d,f=u(f/60);return 0>a&&(d="-"+d),d&&g?d+g:g||"-"!==d?d||g||"0":"0"}function d(a){for(var b=0,d=[],e=[],f=[],g={},h=0;h<a.abbrs.length;h++){var i=a.abbrs[h]+"|"+a.offsets[h];void 0===g[i]&&(g[i]=b,d[b]=a.abbrs[h],e[b]=c(Math.round(60*a.offsets[h])/60,1),b++),f[h]=c(g[i],0)}return d.join(" ")+"|"+e.join(" ")+"|"+f.join("")}function e(a){if(!a)return"";if(1e3>a)return"|"+a;var b=String(0|a).length-2,c=Math.round(a/Math.pow(10,b));return"|"+c+"e"+b}function f(a){for(var b=[],d=0,e=0;e<a.length-1;e++)b[e]=c(Math.round((a[e]-d)/1e3)/60,1),d=a[e];return b.join(" ")}function g(b){return a(b),[b.name,d(b),f(b.untils)+e(b.population)].join("|")}function h(a,b){var c=a.length;if(b.length!==c)return!1;for(var d=0;c>d;d++)if(a[d]!==b[d])return!1;return!0}function i(a,b){return h(a.abbrs,b.abbrs)&&h(a.untils,b.untils)&&h(a.offsets,b.offsets)}function j(a,b,c){for(var d=[],e=0;e<a.length;e++){for(var f=!1,g=a[e],h=0;h<d.length;h++){var j=d[h],k=j[0];i(g,k)&&(g.population>k.population?j.unshift(g):j.push(g),f=!0)}f||d.push([g])}for(var l=0;l<d.length;l++){var m=d[l];b.push(m[0]);for(var n=1;n<m.length;n++)c.push(m[0].name+"|"+m[n].name)}}function k(a){var b=[],c=a.links?a.links.slice():[];return j(a.zones,b,c),{version:a.version,zones:b,links:c.sort()}}function l(a,b,c){var d=0,e=a.length+1;if(c=c||b,b>c){var f=[c,b];b=f[0],c=f[1]}for(var g=0;g<a.length;g++)if(null!=a[g]){var h=new Date(a[g]).getUTCFullYear();b>h&&(d=g+1),h>c&&(e=Math.min(e,g+1))}return[d,e]}function m(a,b,c){var d,e,f,g=l(a.untils,b,c),h=(d=a.untils).slice.apply(d,g);return h[h.length-1]=null,{name:a.name,abbrs:(e=a.abbrs).slice.apply(e,g),untils:h,offsets:(f=a.offsets).slice.apply(f,g),population:a.population}}function n(a,b,c){for(var d=a.zones,e=[],f=0;f<d.length;f++)e[f]=m(d[f],b,c);for(var h=k({zones:e,links:a.links.slice(),version:a.version}),i=0;i<h.zones.length;i++)h.zones[i]=g(h.zones[i]);return h}var o={};o.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")};var p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX",q=1e-6,r=Math,s=r.abs,t=r.min,u=r.floor,v={pack:g,packBase60:c,createLinks:k,filterYears:m,filterLinkPack:n};return v});